<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_22) on Tue Sep 20 14:50:03 KST 2016 -->
<TITLE>
MultipartStream (coreframe API)
</TITLE>

<META NAME="keywords" CONTENT="coreframe.http.MultipartStream class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="MultipartStream (coreframe API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MultipartStream.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../coreframe/http/MultipartAttributes.html" title="class in coreframe.http"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../coreframe/http/MultipartStream.IllegalBoundaryException.html" title="class in coreframe.http"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?coreframe/http/MultipartStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MultipartStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
coreframe.http</FONT>
<BR>
Class MultipartStream</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>coreframe.http.MultipartStream</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>MultipartStream</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Low level API for processing file uploads.
 
 This class can be used to process data streams conforming to MIME 'multipart' format as defined in RFC 1867.
 Arbitrarily large amounts of data in the stream can be processed under constant memory usage.
 
 The format of the stream is defined in the following way:
 
 
 multipart-body := preamble 1*encapsulation close-delimiter epilogue encapsulation := delimiter body CRLF delimiter :=
 "--" boundary CRLF close-delimiter := "--" boudary "--" preamble := <ignore> epilogue := <ignore> body := header-part
 CRLF body-part header-part := 1*header CRLF header := header-name ":" header-value header-name := <printable ascii
 characters except ":"> header-value := <any ascii characters except CR & LF> body-data := <arbitrary data>
 
 
 Note that body-data can contain another mulipart entity. There is limited support for single pass processing of such
 nested streams. The nested stream is required to have a boundary token of the same length as the parent stream (see
 <A HREF="../../coreframe/http/MultipartStream.html#setBoundary(byte[])"><CODE>setBoundary(byte[])</CODE></A>).
 
 Here is an exaple of usage of this class.
  * try { MultipartStream multipartStream = new MultipartStream(input, boundary); boolean nextPart =
 malitPartStream.skipPreamble(); OutputStream output; while(nextPart) { header = chunks.readHeader(); // process
 headers // create some output stream multipartStream.readBodyPart(output); nextPart = multipartStream.readBoundary(); } }
 catch(MultipartStream.MalformedStreamException e) { // the stream failed to follow required syntax }
 catch(IOException) { // a read or write error occurred }
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Id: MultipartStream.java,v 1.2 2009/06/05 01:27:11 manpower Exp $</DD>
<DT><B>Author:</B></DT>
  <DD>Rafal Krzewski, Martin Cooper, Sean C. Sullivan</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.IllegalBoundaryException.html" title="class in coreframe.http">MultipartStream.IllegalBoundaryException</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thrown upon attempt of setting an invalid boundary token.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thrown to indicate that the input stream fails to follow the required syntax.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#DEFAULT_BUFSIZE">DEFAULT_BUFSIZE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The default length of the buffer used for processing a request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#FIELD_SEPARATOR">FIELD_SEPARATOR</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A byte sequence that that follows a delimiter that will be followed by an encapsulation (CRLF).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#HEADER_PART_SIZE_MAX">HEADER_PART_SIZE_MAX</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The maximum length of header-part that will be processed (10 kilobytes = 10240 bytes.).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#HEADER_SEPARATOR">HEADER_SEPARATOR</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A byte sequence that marks the end of header-part (CRLFCRLF).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#STREAM_TERMINATOR">STREAM_TERMINATOR</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A byte sequence that that follows a delimiter of the last encapsulation in the stream (--).</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#MultipartStream()">MultipartStream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#MultipartStream(java.io.InputStream, byte[])">MultipartStream</A></B>(java.io.InputStream&nbsp;input,
                byte[]&nbsp;boundary)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a MultipartStream with a default size buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#MultipartStream(java.io.InputStream, byte[], int)">MultipartStream</A></B>(java.io.InputStream&nbsp;input,
                byte[]&nbsp;boundary,
                int&nbsp;bufSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a MultipartStream with a custom size buffer.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#arrayequals(byte[], byte[], int)">arrayequals</A></B>(byte[]&nbsp;a,
            byte[]&nbsp;b,
            int&nbsp;count)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compares count first bytes in the arrays a and b.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#discardBodyData()">discardBodyData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads body-data from the current encapsulation and discards it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#findByte(byte, int)">findByte</A></B>(byte&nbsp;value,
         int&nbsp;pos)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Searches for a byte of specified value in the buffer, starting at the specified position.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#findSeparator()">findSeparator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Searches for the boundary in the buffer region delimited by head and tail.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#getHeaderEncoding()">getHeaderEncoding</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the character encoding used when reading the headers of an individual part.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#readBodyData(java.io.OutputStream)">readBodyData</A></B>(java.io.OutputStream&nbsp;output)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads body-data from the current encapsulation and writes its contents into the output Stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#readBoundary()">readBoundary</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Skips a boundary token, and checks whether more encapsulations are contained in the stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#readByte()">readByte</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads a byte from the buffer, and refills it as necessary.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#readHeaders()">readHeaders</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the header-part of the current encapsulation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#setBoundary(byte[])">setBoundary</A></B>(byte[]&nbsp;boundary)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Changes the boundary token used for partitioning the stream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#setHeaderEncoding(java.lang.String)">setHeaderEncoding</A></B>(java.lang.String&nbsp;encoding)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies the character encoding to be used when reading the headers of individual parts.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#skipPreamble()">skipPreamble</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds the beginning of the first encapsulation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../coreframe/http/MultipartStream.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a string representation of this object.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="HEADER_PART_SIZE_MAX"><!-- --></A><H3>
HEADER_PART_SIZE_MAX</H3>
<PRE>
public static final int <B>HEADER_PART_SIZE_MAX</B></PRE>
<DL>
<DD>The maximum length of header-part that will be processed (10 kilobytes = 10240 bytes.).
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#coreframe.http.MultipartStream.HEADER_PART_SIZE_MAX">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DEFAULT_BUFSIZE"><!-- --></A><H3>
DEFAULT_BUFSIZE</H3>
<PRE>
protected static final int <B>DEFAULT_BUFSIZE</B></PRE>
<DL>
<DD>The default length of the buffer used for processing a request.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#coreframe.http.MultipartStream.DEFAULT_BUFSIZE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="HEADER_SEPARATOR"><!-- --></A><H3>
HEADER_SEPARATOR</H3>
<PRE>
protected static final byte[] <B>HEADER_SEPARATOR</B></PRE>
<DL>
<DD>A byte sequence that marks the end of header-part (CRLFCRLF).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="FIELD_SEPARATOR"><!-- --></A><H3>
FIELD_SEPARATOR</H3>
<PRE>
protected static final byte[] <B>FIELD_SEPARATOR</B></PRE>
<DL>
<DD>A byte sequence that that follows a delimiter that will be followed by an encapsulation (CRLF).
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="STREAM_TERMINATOR"><!-- --></A><H3>
STREAM_TERMINATOR</H3>
<PRE>
protected static final byte[] <B>STREAM_TERMINATOR</B></PRE>
<DL>
<DD>A byte sequence that that follows a delimiter of the last encapsulation in the stream (--).
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MultipartStream()"><!-- --></A><H3>
MultipartStream</H3>
<PRE>
public <B>MultipartStream</B>()</PRE>
<DL>
<DD>Default constructor.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../coreframe/http/MultipartStream.html#MultipartStream(java.io.InputStream, byte[], int)"><CODE>MultipartStream(InputStream, byte[], int)</CODE></A>, 
<A HREF="../../coreframe/http/MultipartStream.html#MultipartStream(java.io.InputStream, byte[])"><CODE>MultipartStream(InputStream, byte[])</CODE></A></DL>
</DL>
<HR>

<A NAME="MultipartStream(java.io.InputStream, byte[], int)"><!-- --></A><H3>
MultipartStream</H3>
<PRE>
public <B>MultipartStream</B>(java.io.InputStream&nbsp;input,
                       byte[]&nbsp;boundary,
                       int&nbsp;bufSize)</PRE>
<DL>
<DD>Constructs a MultipartStream with a custom size buffer.
 
 Note that the buffer must be at least big enough to contain the boundary string, plus 4 characters for CR/LF and
 double dash, plus at least one byte of data. Too small a buffer size setting will degrade performance.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - The InputStream to serve as a data source.<DD><CODE>boundary</CODE> - The token used for dividing the stream into encapsulations.<DD><CODE>bufSize</CODE> - The size of the buffer to be used, in bytes.<DT><B>See Also:</B><DD><A HREF="../../coreframe/http/MultipartStream.html#MultipartStream()"><CODE>MultipartStream()</CODE></A>, 
<A HREF="../../coreframe/http/MultipartStream.html#MultipartStream(java.io.InputStream, byte[])"><CODE>MultipartStream(InputStream, byte[])</CODE></A></DL>
</DL>
<HR>

<A NAME="MultipartStream(java.io.InputStream, byte[])"><!-- --></A><H3>
MultipartStream</H3>
<PRE>
public <B>MultipartStream</B>(java.io.InputStream&nbsp;input,
                       byte[]&nbsp;boundary)
                throws java.io.IOException</PRE>
<DL>
<DD>Constructs a MultipartStream with a default size buffer.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - The InputStream to serve as a data source.<DD><CODE>boundary</CODE> - The token used for dividing the stream into encapsulations.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - when an error occurs.<DT><B>See Also:</B><DD><A HREF="../../coreframe/http/MultipartStream.html#MultipartStream()"><CODE>MultipartStream()</CODE></A>, 
<A HREF="../../coreframe/http/MultipartStream.html#MultipartStream(java.io.InputStream, byte[], int)"><CODE>MultipartStream(InputStream, byte[], int)</CODE></A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getHeaderEncoding()"><!-- --></A><H3>
getHeaderEncoding</H3>
<PRE>
public java.lang.String <B>getHeaderEncoding</B>()</PRE>
<DL>
<DD>Retrieves the character encoding used when reading the headers of an individual part. When not specified, or
 null, the platform default encoding is used.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The encoding used to read part headers.</DL>
</DD>
</DL>
<HR>

<A NAME="setHeaderEncoding(java.lang.String)"><!-- --></A><H3>
setHeaderEncoding</H3>
<PRE>
public void <B>setHeaderEncoding</B>(java.lang.String&nbsp;encoding)</PRE>
<DL>
<DD>Specifies the character encoding to be used when reading the headers of individual parts. When not specified, or
 null, the platform default encoding is used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>encoding</CODE> - The encoding used to read part headers.</DL>
</DD>
</DL>
<HR>

<A NAME="readByte()"><!-- --></A><H3>
readByte</H3>
<PRE>
public byte <B>readByte</B>()
              throws java.io.IOException</PRE>
<DL>
<DD>Reads a byte from the buffer, and refills it as necessary.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The next byte from the input stream.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if there is no more data available.</DL>
</DD>
</DL>
<HR>

<A NAME="readBoundary()"><!-- --></A><H3>
readBoundary</H3>
<PRE>
public boolean <B>readBoundary</B>()
                     throws <A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A></PRE>
<DL>
<DD>Skips a boundary token, and checks whether more encapsulations are contained in the stream.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if there are more encapsulations in this stream; false otherwise.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A></CODE> - if the stream ends unexpecetedly or fails to follow required syntax.</DL>
</DD>
</DL>
<HR>

<A NAME="setBoundary(byte[])"><!-- --></A><H3>
setBoundary</H3>
<PRE>
public void <B>setBoundary</B>(byte[]&nbsp;boundary)
                 throws <A HREF="../../coreframe/http/MultipartStream.IllegalBoundaryException.html" title="class in coreframe.http">MultipartStream.IllegalBoundaryException</A></PRE>
<DL>
<DD>Changes the boundary token used for partitioning the stream.
 
 This method allows single pass processing of nested multipart streams.
 
 The boundary token of the nested stream is required to be of the same length as the boundary token in parent
 stream.
 
 Restoring the parent stream boundary token after processing of a nested stream is left to the application.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>boundary</CODE> - The boundary to be used for parsing of the nested stream.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../coreframe/http/MultipartStream.IllegalBoundaryException.html" title="class in coreframe.http">MultipartStream.IllegalBoundaryException</A></CODE> - if the boundary has a different length than the one being currently parsed.</DL>
</DD>
</DL>
<HR>

<A NAME="readHeaders()"><!-- --></A><H3>
readHeaders</H3>
<PRE>
public java.lang.String <B>readHeaders</B>()
                             throws <A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A></PRE>
<DL>
<DD>Reads the header-part of the current encapsulation.
 
 Headers are returned verbatim to the input stream, including the trailing CRLF marker. Parsing is left to the
 application.
 
 TODO allow limiting maximum header size to protect against abuse.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The header-part of the current encapsulation.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A></CODE> - if the stream ends unexpecetedly.</DL>
</DD>
</DL>
<HR>

<A NAME="readBodyData(java.io.OutputStream)"><!-- --></A><H3>
readBodyData</H3>
<PRE>
public int <B>readBodyData</B>(java.io.OutputStream&nbsp;output)
                 throws <A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A>,
                        java.io.IOException</PRE>
<DL>
<DD>Reads body-data from the current encapsulation and writes its contents into the output Stream.
 
 Arbitrary large amounts of data can be processed by this method using a constant size buffer. (see <A HREF="../../coreframe/http/MultipartStream.html#MultipartStream(java.io.InputStream, byte[], int)"><CODE>constructor</CODE></A>).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>output</CODE> - The Stream to write data into.
<DT><B>Returns:</B><DD>the amount of data written.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A></CODE> - if the stream ends unexpectedly.
<DD><CODE>java.io.IOException</CODE> - if an i/o error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="discardBodyData()"><!-- --></A><H3>
discardBodyData</H3>
<PRE>
public int <B>discardBodyData</B>()
                    throws <A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A>,
                           java.io.IOException</PRE>
<DL>
<DD>Reads body-data from the current encapsulation and discards it.
 
 Use this method to skip encapsulations you don't need or don't understand.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The amount of data discarded.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../coreframe/http/MultipartStream.MalformedStreamException.html" title="class in coreframe.http">MultipartStream.MalformedStreamException</A></CODE> - if the stream ends unexpectedly.
<DD><CODE>java.io.IOException</CODE> - if an i/o error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="skipPreamble()"><!-- --></A><H3>
skipPreamble</H3>
<PRE>
public boolean <B>skipPreamble</B>()
                     throws java.io.IOException</PRE>
<DL>
<DD>Finds the beginning of the first encapsulation.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if an encapsulation was found in the stream.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if an i/o error occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="arrayequals(byte[], byte[], int)"><!-- --></A><H3>
arrayequals</H3>
<PRE>
public static boolean <B>arrayequals</B>(byte[]&nbsp;a,
                                  byte[]&nbsp;b,
                                  int&nbsp;count)</PRE>
<DL>
<DD>Compares count first bytes in the arrays a and b.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>a</CODE> - The first array to compare.<DD><CODE>b</CODE> - The second array to compare.<DD><CODE>count</CODE> - How many bytes should be compared.
<DT><B>Returns:</B><DD>true if count first bytes in arrays a and b are equal.</DL>
</DD>
</DL>
<HR>

<A NAME="findByte(byte, int)"><!-- --></A><H3>
findByte</H3>
<PRE>
protected int <B>findByte</B>(byte&nbsp;value,
                       int&nbsp;pos)</PRE>
<DL>
<DD>Searches for a byte of specified value in the buffer, starting at the specified position.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>value</CODE> - The value to find.<DD><CODE>pos</CODE> - The starting position for searching.
<DT><B>Returns:</B><DD>The position of byte found, counting from beginning of the buffer, or -1 if not found.</DL>
</DD>
</DL>
<HR>

<A NAME="findSeparator()"><!-- --></A><H3>
findSeparator</H3>
<PRE>
protected int <B>findSeparator</B>()</PRE>
<DL>
<DD>Searches for the boundary in the buffer region delimited by head and tail.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The position of the boundary found, counting from the beginning of the buffer, or -1 if not found.</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Returns a string representation of this object.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The string representation of this object.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MultipartStream.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../coreframe/http/MultipartAttributes.html" title="class in coreframe.http"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../coreframe/http/MultipartStream.IllegalBoundaryException.html" title="class in coreframe.http"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?coreframe/http/MultipartStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MultipartStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright © 2011 CyberImagination, Inc. All Rights Reserved.
</BODY>
</HTML>
